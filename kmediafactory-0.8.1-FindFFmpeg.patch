diff -up kmediafactory-0.8.1/CMakeLists.txt.FindFFmpeg kmediafactory-0.8.1/CMakeLists.txt
--- kmediafactory-0.8.1/CMakeLists.txt.FindFFmpeg	2012-11-26 08:23:48.502384898 -0600
+++ kmediafactory-0.8.1/CMakeLists.txt	2012-11-26 08:23:48.514384761 -0600
@@ -53,8 +53,12 @@ macro_log_feature(DVDAUTHOR_EXECUTABLE "
 find_program(MPEG2ENC_EXECUTABLE mpeg2enc)
 macro_log_feature(MPEG2ENC_EXECUTABLE "mpeg2enc" "For making mpeg files" "http://mjpeg.sourceforge.net/" FALSE "" "NOTE: Is required runtime")
 
-find_package(Ffmpeg REQUIRED)
-macro_log_feature(FFMPEG_SWSCALE_FOUND "ffmpeg libraries" "Parsing of mpeg files" "www.ffmpeg.org/" FALSE "" "")
+find_package(FFmpeg REQUIRED)
+macro_log_feature(FFMPEG_FOUND "ffmpeg libraries" "Parsing of mpeg files" "www.ffmpeg.org/" FALSE "" "")
+macro_log_feature(AVCODEC_FOUND "ffmpeg avcodec libraries" "Parsing of mpeg files" "www.ffmpeg.org/" FALSE "" "")
+macro_log_feature(AVFORMAT_FOUND "ffmpeg avformat libraries" "Parsing of mpeg files" "www.ffmpeg.org/" FALSE "" "")
+macro_log_feature(AVUTIL_FOUND "ffmpeg avutil libraries" "Parsing of mpeg files" "www.ffmpeg.org/" FALSE "" "")
+macro_log_feature(SWSCALE_FOUND "ffmpeg swscale libraries" "Parsing of mpeg files" "www.ffmpeg.org/" FALSE "" "")
 
 # Optional packages
 find_package(LibDvdread)
diff -up kmediafactory-0.8.1/lib/CMakeLists.txt.FindFFmpeg kmediafactory-0.8.1/lib/CMakeLists.txt
--- kmediafactory-0.8.1/lib/CMakeLists.txt.FindFFmpeg	2011-08-01 02:47:08.000000000 -0500
+++ kmediafactory-0.8.1/lib/CMakeLists.txt	2012-11-26 08:27:03.391015691 -0600
@@ -1,6 +1,20 @@
 add_subdirectory(pics)
 
-include_directories(${CMAKE_CURRENT_SOURCE_DIR} ${FFMPEG_INCLUDE_DIR})
+include_directories(
+  ${CMAKE_CURRENT_SOURCE_DIR}
+  ${AVCODEC_INCLUDE_DIRS}
+  ${AVFORMAT_INCLUDE_DIRS}
+  ${AVUTIL_INCLUDE_DIRS}
+  ${SWSCALE_INCLUDE_DIRS}
+)
+
+add_definitions(
+  ${AVCODEC_DEFINITIONS}
+  ${AVFORMAT_DEFINITIONS}
+  ${AVUTIL_DEFINITIONS}
+  ${SWSCALE_DEFINITIONS}
+)
+
 if(LIBDVDREAD_FOUND)
    include_directories(${LIBDVDREAD_INCLUDE_DIR})
 endif(LIBDVDREAD_FOUND)
@@ -35,7 +49,10 @@ set(kmf_HEADERS
 )
 
 kde4_add_library(kmf SHARED ${kmf_LIB_SRCS})
-target_link_libraries(kmf ${KDE4_KIO_LIBS} ${QT_QTXML_LIBRARY} ${KDE4_KUTILS_LIBS} ${XINE_LIBRARY} ${FONTCONFIG_LIBRARIES} ${FFMPEG_LIBRARIES})
+target_link_libraries(kmf 
+  ${KDE4_KIO_LIBS} ${QT_QTXML_LIBRARY} ${KDE4_KUTILS_LIBS} ${XINE_LIBRARY} ${FONTCONFIG_LIBRARIES} 
+  ${AVCODEC_LIBRARIES} ${AVFORMAT_LIBRARIES} ${AVUTIL_LIBRARIES} ${SWSCALE_LIBRARIES}
+)
 if(LIBDVDREAD_FOUND)
    target_link_libraries(kmf ${LIBDVDREAD_LIBRARY})
 endif(LIBDVDREAD_FOUND)
